# Cursor AI Rules for AIFPL Project

## Git Workflow
- **ALWAYS commit and push changes immediately** - This is a hobby project, no production concerns
- **Never leave uncommitted changes** - If you modify a file, commit and push it
- **Keep local and remote in sync** - After any file modification, verify with `git status` and commit/push

## Code Changes
- When modifying any file, immediately:
  1. Check `git status` to see what changed
  2. **VERIFY BUILDS** (see Build Verification section below)
  3. `git add <files>`
  4. `git commit -m "descriptive message"`
  5. `git push origin main`

## File Modifications
- If you read a file and see it has content that differs from git, check:
  1. `git diff HEAD <file>` to see uncommitted changes
  2. `git show HEAD:<file>` to see committed version
  3. If local has changes, commit them immediately

## Database/Backend Changes
- When adding new API endpoints, ensure:
  1. Backend route is in `backend/api/main.py`
  2. Database methods are in `backend/database/crud.py`
  3. Models are in `backend/database/models.py`
  4. ALL changes are committed and pushed

## Frontend Changes
- When modifying frontend:
  1. Test locally if possible
  2. Commit and push immediately
  3. GitHub Actions will auto-deploy frontend

## Build Verification (REQUIRED BEFORE COMMIT)
- **ALWAYS verify both builds before committing and pushing:**
  1. **Frontend Build:**
     - Run: `cd frontend && npm run build`
     - Must complete without errors
     - Fix any build errors before committing
  2. **Backend Build:**
     - Run: `python3 -c "import sys; sys.path.insert(0, '.'); from backend.api.main import app"`
     - Must import successfully without errors
     - Fix any import/syntax errors before committing
  3. **Only after both builds pass:**
     - Proceed with `git add`, `git commit`, and `git push`

## Backend Deployment
- After pushing backend changes:
  1. Render will auto-deploy (if configured)
  2. Or manually trigger deploy on Render dashboard
  3. Always verify deployment completed successfully

